<div class="repository-settings">
  <h1>Settings</h1>

  <section class="settings-section">
    <h2>General</h2>
    <div class="setting-item">
      <h3>Repository name</h3>
      <%= form_with model: @repository, url: update_repository_pretty_path(username: @repository.user.username, repository_name: @repository.name), method: :patch, local: true do |f| %>
        <%= f.text_field :name, class: "wide-input" %>
        <%= f.submit "Rename", class: "btn btn-secondary" %>
      <% end %>
    </div>
  </section>

  <section class="danger-zone">
    <h2>Danger Zone</h2>
    <div class="danger-item">
      <div class="danger-text">
        <h3>Delete this repository</h3>
        <p>Once you delete a repository, there is no going back. Please be certain.</p>
      </div>
      <%= button_to "Delete this repository", destroy_repository_pretty_path(username: @repository.user.username, repository_name: @repository.name), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger" %>
    </div>
  </section>
</div>

<style>
  .settings-section, .danger-zone { margin-top: 2rem; border: 1px solid #d0d7de; border-radius: 6px; }
  .settings-section h2, .danger-zone h2 { background: #f6f8fa; padding: 0.75rem 1rem; margin: 0; border-bottom: 1px solid #d0d7de; font-size: 1rem; }
  .setting-item, .danger-item { padding: 1rem; }
  .setting-item h3, .danger-item h3 { font-size: 0.9rem; margin-top: 0; }
  .wide-input { width: 300px; padding: 0.5rem; border: 1px solid #d0d7de; border-radius: 6px; margin-right: 0.5rem; }
  .btn-danger { background: #f6f8fa; color: #cf222e; border: 1px solid #d0d7de; padding: 0.5rem 1rem; border-radius: 6px; font-weight: bold; cursor: pointer; }
  .btn-danger:hover { background: #cf222e; color: white; border-color: #cf222e; }
  .danger-item { display: flex; justify-content: space-between; align-items: center; }
  .danger-text p { margin: 0; font-size: 0.85rem; color: #57606a; }
</style>
